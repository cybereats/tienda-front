<div class="food">
    
    <section class="food__hero">
        <div class="food__hero-overlay"></div>
        <img src="assets/food-hero.png" alt="Cyber Food" class="food__hero-bg">
        <div class="food__hero-content">
            <h1 class="food__title">CYBER <span class="highlight">EATS</span></h1>
            <p class="food__subtitle">Combustible para Gamers</p>
            <a href="#menu" class="c-btn btn-glow--orange">VER MENÚ</a>
        </div>
    </section>

    
    <section class="food__section food__featured">
        <div class="food__container">
            <h2 class="section-title">LO MÁS <span class="highlight">POPULAR</span></h2>
            <div class="featured-grid">
                @for (product of featuredProducts; track product.id) {
                <food-card [product]="product" [showBadge]="true"></food-card>
                }
            </div>
        </div>
    </section>

    
    <section id="menu" class="food__section food__categories">
        <div class="food__container">
            <h2 class="section-title">NUESTRO <span class="highlight">MENÚ</span></h2>

            
            <div class="search-container">
                <input type="text" #searchInput (keyup.enter)="onSearch(searchInput.value)"
                    placeholder="Busca tu comida favorita..." class="search-input">
                <button (click)="onSearch(searchInput.value)" class="search-btn">🔍</button>
            </div>

            
            <div class="category-wrapper" #scrollContainer (wheel)="onWheelScroll($event)">
                <div class="category-tabs">
                    <button class="category-tab" [class.active]="selectedCategory === ''" (click)="selectCategory('')">
                        <span class="category-name">TODOS</span>
                    </button>
                    @for (cat of categories; track cat.id) {
                    <button class="category-tab" [class.active]="selectedCategory === cat.slug"
                        (click)="selectCategory(cat.slug)">
                        <span class="category-name">{{ cat.label }}</span>
                    </button>
                    }
                </div>
            </div>

            
            <div class="products-grid">
                @for (product of products; track product.id) {
                <food-card [product]="product"></food-card>
                }
            </div>

            
            @if (hasMoreProducts()) {
            <div class="load-more">
                <button (click)="loadMore()" class="c-btn btn-outline" [disabled]="isLoadingMore">
                    {{ isLoadingMore ? 'CARGANDO...' : 'VER MÁS PRODUCTOS' }}
                </button>
            </div>
            }
        </div>
    </section>

    
    <section class="food__section food__combos">
        <div class="food__container">
            <h2 class="section-title">COMBOS <span class="highlight">ESPECIALES</span></h2>
            <p class="section-desc">Ahorra más con nuestros combos diseñados para largas sesiones de gaming</p>

            <div class="combos-showcase">
                <div class="combo-card combo-card--large">
                    <div class="combo-card__bg">
                        <img src="assets/combo-gamer.png" alt="Combo Gamer">
                    </div>
                    <div class="combo-card__content">
                        <span class="combo-badge">AHORRA 20%</span>
                        <h3>COMBO GAMER</h3>
                        <p>Hamburguesa + Papas + Bebida</p>
                        <div class="combo-price">
                            <span class="old-price">$17.99</span>
                            <span class="new-price">$14.99</span>
                        </div>
                        @if (authService.user$ | async) {
                        <button class="c-btn btn-glow--orange">PEDIR AHORA</button>
                        }
                    </div>
                </div>

                <div class="combo-card combo-card--large">
                    <div class="combo-card__bg">
                        <img src="assets/combo-power.png" alt="Combo Power">
                    </div>
                    <div class="combo-card__content">
                        <span class="combo-badge">AHORRA 25%</span>
                        <h3>COMBO POWER</h3>
                        <p>Double Burger + Papas XL + Bebida XL</p>
                        <div class="combo-price">
                            <span class="old-price">$21.99</span>
                            <span class="new-price">$16.99</span>
                        </div>
                        @if (authService.user$ | async) {
                        <button class="c-btn btn-glow--orange">PEDIR AHORA</button>
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>

    
    @if (!(authService.user$ | async)) {
    <section class="food__section food__cta">
        <div class="food__container">
            <div class="cta-content">
                <h2>¿LISTO PARA <span class="highlight">PEDIR?</span></h2>
                <p>Ordena desde tu terminal y te lo llevamos directamente a tu estación</p>
                <div class="cta-buttons">
                    <a routerLink="/register" class="c-btn btn-glow--orange">CREAR CUENTA</a>
                    <a routerLink="/login" class="c-btn btn-outline">INICIAR SESIÓN</a>
                </div>
            </div>
        </div>
    </section>
    }
</div>